<!-- src/app/shared/components/header/header.component.html -->

<header class="header">
  <!-- Logo Section -->
  <div class="logo">
    <a [routerLink]="headerType === 'partner' ? '/partner/landing' : '/user'">
      {{ logoText }}
    </a>
  </div>

  <!-- Middle Section (for customer search bar when logged in) -->
  <div class="middle-section" *ngIf="showSearchBar">
    <div class="search-container">
      <input
        type="text"
        class="search-input"
        placeholder="Search for services..."
        [(ngModel)]="searchQuery"
        (input)="onSearchInput($event)"
      />
      <span class="search-icon">üîç</span>
    </div>
  </div>

  <!-- Right Section - Auth Buttons or User Info -->
  <div class="header-right">
    <!-- Logged Out State -->
    <ng-container *ngIf="!isAuthenticated">
      <div class="header-buttons">
        <app-button
          variant="white"
          [routerLink]="loginRoute"
          text="Login"
        ></app-button>
        <app-button
          variant="black"
          [routerLink]="registerRoute"
          [text]="registerButtonText"
        ></app-button>
      </div>
    </ng-container>

    <!-- Logged In State - Partner -->
    <ng-container *ngIf="isAuthenticated && headerType === 'partner'">
      <div class="user-info">
        <span class="welcome-text">Welcome, {{ currentUser?.userName }}</span>
        <app-button
          variant="white"
          text="Logout"
          (click)="onLogout()"
        ></app-button>
      </div>
    </ng-container>

    <!-- Logged In State - Customer -->
    <ng-container *ngIf="isAuthenticated && headerType === 'customer'">
      <div class="user-info">
        <div class="profile-button" (click)="goToProfile()">
          <span class="profile-icon">üë§</span>
        </div>
        <span class="welcome-text">Welcome, {{ currentUser?.userName }}</span>
        <app-button
          variant="white"
          text="Logout"
          (click)="onLogout()"
        ></app-button>
      </div>
    </ng-container>
  </div>
</header>
